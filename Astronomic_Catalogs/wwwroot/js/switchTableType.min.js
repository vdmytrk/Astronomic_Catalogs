(()=>{"use strict";var e={538:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=function(){document.addEventListener("click",(e=>{const t=e.target;if(t.classList.contains("showTextBlockBtn")){const e=t.closest("div");if(!e)return;const n=e.parentElement;if(!n)return;const o=n.querySelector(".hiddenBlock");if(!o)return;const r=o.classList.toggle("collapsed");t.textContent=r?"Show":"Hide"}})),document.addEventListener("click",(e=>{const t=e.target;if(t.classList.contains("hideFilters")){const e=document.querySelector(".allTopMenuFilters");if(!e)return;const n=e.classList.toggle("collapsed");t.textContent=n?"Show filters":"Hide filters"}})),function(){const e=document.querySelector(".chb-habitableZonePlanets"),t=document.querySelector(".chb-terrestrialHabitableZonePlanets");if(!e||!t)return;const n=()=>{e.checked?t.disabled=!1:(t.disabled=!0,t.checked=!1)};n(),e.addEventListener("change",n)}(),function(){const e=document.querySelector(".chb-PlanetWithSize"),t=document.querySelector("#planetTypeSelect"),n=document.querySelector(".chooseWhichPlanetSizes");if(!e||!t||!n)return;const o=()=>{if(e.checked)t.disabled=!1,n.classList.remove("disabled-opacity");else{t.disabled=!0,t.selectedIndex=-1;t.querySelectorAll("option").forEach((e=>e.classList.remove("selected-fix"))),n.classList.add("disabled-opacity")}};o(),e.addEventListener("change",o)}()},t.hideShowBlockDownAnime=function(e,t,n=0){if(!e)return;setTimeout((()=>{t?e.classList.remove("collapsed"):e.classList.add("collapsed")}),n)}},558:function(e,t,n){var o,r=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||(o=function(e){return o=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},o(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=o(e),l=0;l<n.length;l++)"default"!==n[l]&&r(t,e,n[l]);return i(t,e),t}),a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function l(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,a)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const c=l(n(924)),s=n(538);document.addEventListener("DOMContentLoaded",(()=>{!function(){console.log("FUNCTION: switchTable");const e=document.querySelector("label.switchTableType input[type='checkbox']");if(!e)return;e.addEventListener("change",(()=>a(this,void 0,void 0,(function*(){!function(e){var t;const n=document.getElementById("twoPlanetarySystemTable");if(!n)return;const o=document.querySelector(".topMenuFiltersCatalogs");if(!o)return;console.log(o);let r="1";const i=document.querySelector(".paginationBodyBlock .currentPage");i&&(r=(null===(t=i.textContent)||void 0===t?void 0:t.trim())||r);const l=e.checked;!function(e,t,n,o){a(this,arguments,void 0,(function*(e,t,n,o,r="1"){console.log(`FUNCTOIN: submitFormAndUpdatePartial (SwitchTable)_(form: ${e}, url: ${t}, container: ${n}, pageNumber: ${r}!!!`);let i=document.getElementById("catalogTableBody");const l=c.serializeForm(e,r);try{console.log("Adding spinnerHTML.");const e=document.getElementById("spinnerTr");e&&e.remove(),i&&i.insertAdjacentHTML("afterbegin",c.createSpinnerHTML());const r=yield fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!r.ok)throw new Error(`HTTP error! Failed to load table. Status: ${r.status}`);let a,s=!1;const d=r.headers.get("content-type");if(d&&d.includes("application/json")?(a=yield r.json(),s=!0):a=yield r.text(),console.log("Fetched data:",a),a.redirectTo)return console.log("Redirecting to:",a.redirectTo),void(window.location.href=a.redirectTo);n.innerHTML=o?`<div id="planetsSystemTableContainer" class="hideShowColumnTable p-3">${a}</div>`:`<div id="planetsInGroupsSystemTableContainer" class="p-3">${a}</div>`}catch(e){n.innerHTML="<div class='text-danger p-3'>Error loading data</div>",console.error("Error submitting form or updating partial:",e)}finally{const e=document.getElementById("spinnerTr");e&&e.remove()}}))}(o,l?"/Planetology/PlanetarySystem/GetFlatTable":"/Planetology/PlanetarySystem/GetGroupedTable",n,l,r);const d=document.querySelector(".fieldsCheckBoksBlock");l?(0,s.hideShowBlockDownAnime)(d,!0,2):(0,s.hideShowBlockDownAnime)(d,!1,2)}(e)}))))}()}))},924:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function l(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,a)}c((o=o.apply(e,t||[])).next())}))};function o(){return`\n        <tr id="spinnerTr">\n            <td colspan="${function(){const e=document.querySelector(".fieldsCheckBoks");if(!e)return 0;const t=e.querySelectorAll('input[type="checkbox"]');return Array.from(t).reduce(((e,t)=>e+(t.checked?1:0)),0)+2}()}" class="text-center align-items-center" style="height: 20rem;">\n                <div id="spinner" class="spinner"> </div>\n            </td>\n        </tr>\n    `}function r(e,t){var n,o;let r={};e.querySelectorAll('input:not([type="hidden"]), select').forEach((e=>{const t=e.name||e.id;if(t)if(e instanceof HTMLSelectElement)if(e.multiple){let n=Array.from(e.selectedOptions).map((e=>e.value));r[t]=n}else r[t]=e.value;else e instanceof HTMLInputElement&&("checkbox"===e.type?e.checked&&(Array.isArray(r[t])||(r[t]=[]),r[t].push(e.value)):"radio"===e.type?e.checked&&(r[t]=e.value):r[t]=e.value)}));for(const e in r)if(Array.isArray(r[e])&&1===r[e].length&&(r[e]=r[e][0]),Array.isArray(r[e])){const t=Array.from(new Set(r[e]));r[e]=1===t.length?t[0]:t}r.PageNumberVaulue=null!==(o=null===(n=t.match(/^\d+/))||void 0===n?void 0:n[0])&&void 0!==o?o:"1";const i=document.querySelector("label.switchTableType input[type='checkbox']");return i&&(r=function(e,t){console.log("FUNCTION: getPartialViewName");const n=t.checked,o=n?"_PlanetarySystemTable":"_PlanetarySystemTableInGroups";return e.PartialViewName=o,e}(r,i)),console.log("serializeForm (after): ",r),r}function i(e,t,i){return n(this,arguments,void 0,(function*(e,t,n,i="1"){console.log(`FUNCTOIN: submitFormAndUpdatePartial(form: ${e}, url: ${t}, partialSelector: ${n}, pageNumber: ${i}!!!`);const l=document.querySelector(n),a=document.getElementById("paginationBodyBlockContainer");let c=document.getElementById("catalogTableBody");const s=r(e,i);try{console.log("Adding spinnerHTML.");const e=document.getElementById("spinnerTr");e&&e.remove(),c&&c.insertAdjacentHTML("afterbegin",o());const r=yield fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const i=yield r.json();if(console.log("Fetched data:",i),i.redirectTo)return console.log("Redirecting to:",i.redirectTo),void(window.location.href=i.redirectTo);l&&i.tableHtml?l.innerHTML=i.tableHtml:console.error(`Partial container with selector "${n}" not found.`),a&&i.paginationHtml?a.innerHTML=i.paginationHtml:console.error('Partial container with selector "paginationBodyBlockContainer" not found.')}catch(e){console.error("Error submitting form or updating partial:",e);try{const e=`/Error/Exception?errorMessage=${encodeURIComponent("An unexpected error occurred on the server. The server did not return a response. Please try again later or contact support.")}`;window.location.href=e}catch(e){document.body.innerHTML='\n                <div style="font-family: Arial, sans-serif; padding: 40px; text-align: center;">\n                    <h1 style="color: #d9534f;">Oops! Something went wrong.</h1>\n                    <p style="font-size: 18px;">An unexpected error occurred on the server.<br>\n                    The server did not return a response.<br>\n                    Please try again later or contact support.</p>\n                    <button onclick="location.reload()">Try Again</button>\n                </div>\n            '}}finally{const e=document.getElementById("spinnerTr");e&&e.remove()}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.createSpinnerHTML=o,t.serializeForm=r,window.__formHandlerInitialized||(window.__formHandlerInitialized=!0,document.addEventListener("DOMContentLoaded",(()=>{console.log("astronomicCatalogFormHandler initialized"),document.addEventListener("click",(e=>{const t=e.target,n=t.classList.contains("paginationCell"),o=t.classList.contains("applyFiltersBtn");if(n||o){const e=t.getAttribute("data-controller");e&&function(e,t){var n;const o=document.querySelector(".topMenuFiltersCatalogs");if(!o)return;console.log(o);let r="1";t&&(r=(null===(n=t.textContent)||void 0===n?void 0:n.trim())||"1"),"NGCICOpendatasofts"===e&&i(o,"/Catalogs/NGCICOpendatasofts/Index","#sizeFilterTable",r),"CollinderCatalogs"===e&&i(o,"/Catalogs/CollinderCatalogs/Index","#sizeFilterTable",r),"PlanetsCatalog"===e&&i(o,"/Planetology/PlanetsCatalog/Index","#sizeFilterTable",r),"PlanetarySystem"===e&&i(o,"/Planetology/PlanetarySystem/Index","#sizeFilterTable",r)}(e,n?t:null)}}))})))}},t={};(function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports})(558)})();