(()=>{"use strict";(()=>{function e(){let e=0;const t=.1*parseFloat(getComputedStyle(document.documentElement).fontSize);let n=0;for(let o=1;o<=2;o++){const a=document.querySelectorAll(`th:nth-child(${o}), td:nth-child(${o})`);if(a.length>0){const o=a[0].offsetWidth;e+=o,a.forEach((t=>{t.style.left=e-o-n+"px"})),n+=t}}}function t(){const e=document.querySelector(".toFixLayoutHeader"),t=document.querySelector("footer"),n=document.querySelector(".main-RenderBody-container"),o=document.querySelector(".table-plantes"),a=document.querySelector(".planetCatalogHeader");o&&e&&t&&n&&a&&requestAnimationFrame((()=>{const l=window.innerHeight,r=window.innerWidth,d=e.offsetHeight,i=t.offsetHeight,s=getComputedStyle(n),c=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),u=parseFloat(s.marginTop)+parseFloat(s.marginBottom),m=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),f=parseFloat(s.marginLeft)+parseFloat(s.marginRight),E=a.offsetHeight,g=parseFloat(getComputedStyle(document.documentElement).fontSize),p=0*g,y=l-(d+i+c+u+E+p+6*g),h=r-(m+f+p);o.style.height=`${y}px`,o.style.width=`${h}px`}))}document.addEventListener("DOMContentLoaded",(()=>{function n(e){e.target.closest("#restrictedDiv, #restrictedDiv *")&&r("Filters are unavailable for unregistered users. Please sign in.")}document.querySelectorAll("select.form-select").forEach((e=>{let t=new Set;for(let n of Array.from(e.options))(n.hasAttribute("selected")||n.selected)&&(t.add(n.value),n.selected=!0,n.classList.add("selected-fix"));e.addEventListener("change",(function(){for(let n of Array.from(e.options))n.selected?(t.add(n.value),n.classList.add("selected-fix")):(t.delete(n.value),n.classList.remove("selected-fix"))})),e.addEventListener("mousedown",(function(e){e.preventDefault();let n=e.target;if("OPTION"===n.tagName){let e=n;t.has(e.value)?(t.delete(e.value),e.selected=!1,e.classList.remove("selected-fix")):(t.add(e.value),e.selected=!0,e.classList.add("selected-fix"))}return!1}))})),function(){const e=document.getElementById("restrictedDiv");e&&(void 0===window.isAuthenticated||window.isAuthenticated||(e.classList.add("disabled-container"),document.addEventListener("click",n)))}(),e(),t()})),window.addEventListener("resize",(function(){e(),t()}));const n=new ResizeObserver((()=>t())),o=document.querySelector(".toFixLayoutHeader"),a=document.querySelector("footer"),l=document.querySelector(".main-RenderBody-container");function r(e){const t="dark"===localStorage.getItem("theme");"undefined"!=typeof Swal&&Swal.fire?Swal.fire({title:"Attention!",text:e,icon:"info",background:t?"#414243":"white",color:t?"red":"black",confirmButtonColor:t?"red":"blue",confirmButtonText:"OK"}):alert(e)}o&&n.observe(o),a&&n.observe(a),l&&n.observe(l),window.fetchDateUsingADO=function(){$.ajax({url:"/Admin/HomeAdmin/GetDateFromProcedureADO",type:"GET"}).done((e=>r(e))).fail((e=>{r("ADO. THERE ARE SOME ISSUES ON THE SERVER! PLEASE CONTACT THE ADMINISTRATION.")})).always((()=>{}))},window.fetchDateUsingEF=function(){$.ajax({url:"/Admin/HomeAdmin/GetDateFromProcedureEF",type:"GET"}).done((e=>r(e))).fail((e=>{r("EF. THERE ARE SOME ISSUES ON THE SERVER! PLEASE CONTACT THE ADMINISTRATION.")}))},window.executeCreateNewDateProcedure=function(){$.ajax({url:"/Admin/HomeAdmin/CallCreateNewDateProcedure",type:"GET"}).done((e=>{$("#dataTableContainer").html(e)})).fail((()=>{r("AN ERROR OCCURRED WHEN THE CallCreateNewDateProcedure WAS CALLED. THERE ARE SOME ISSUES ON THE SERVER! PLEASE CONTACT THE ADMINISTRATION.")}))};const d=crypto.randomUUID(),i=(new signalR.HubConnectionBuilder).withUrl(`/progresshub?jobId=${d}`).build();let s=null,c=!1;function u(){const e=document.getElementById("importPlanetDataButton"),t=document.getElementById("progressContainer"),n=document.getElementById("importProgress"),o=document.getElementById("stopImportingPlanetDataButton");e.disabled=!1,t.style.display="none",n.style.width="0%",n.innerText="0%",o.disabled=!0,o.style.display="none",c=!1,s=null,fetch("/Planets/PlanetsCatalog/GetPlanetsTable").then((e=>e.text())).then((e=>{document.getElementById("planetsTableContainer").innerHTML=e})).catch((e=>{}))}i.start().catch((e=>{})),i.on("ReceiveProgress",(e=>{const t=document.getElementById("importProgress");t.style.width=e+"%",t.innerText=e+"%",e>=100&&u()})),window.startImport=function(){if(c)return;c=!0,s=new AbortController;const e=document.getElementById("importPlanetDataButton"),t=document.getElementById("progressContainer"),n=document.getElementById("stopImportingPlanetDataButton");e.disabled=!0,t.style.display="block",n.disabled=!1,n.style.display="inline-block",fetch(`/Planets/PlanetsCatalog/ImportData_OpenXml?jobId=${d}`,{method:"POST",signal:s.signal}).then((e=>{(e.ok||499===e.status)&&u()})).catch((e=>{e.name,u()}))},window.stopImport=function(){s&&s.abort(),fetch(`/Planets/PlanetsCatalog/CancelImport?jobId=${d}`,{method:"POST"}),u()}})()})();