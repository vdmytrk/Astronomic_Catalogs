(()=>{"use strict";({845:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,l){function a(e){try{s(o.next(e))}catch(e){l(e)}}function i(e){try{s(o.throw(e))}catch(e){l(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}s((o=o.apply(e,t||[])).next())}))};let o;function r(e,t,n=26*t){const o=document.querySelector(e);if(!o)return;const r=Array.from(o.querySelectorAll("p"));if(0===r.length)return;r.forEach((e=>{e.parentNode&&e.parentNode.removeChild(e)}));const l=o.clientWidth,a=Math.floor(l/n)||1,i=document.createElement("div");i.className="responsive-columns-wrapper";const s=[];for(let e=0;e<a;e++){const e=document.createElement("div");e.className="responsive-column",s.push(e),i.appendChild(e)}r.forEach(((e,t)=>{s[t%a].appendChild(e)})),o.innerHTML="",o.appendChild(i);const c=Math.floor(l/a-5*t);s.forEach((e=>{e.style.width=`${c}px`}))}function l(){console.log("FUNCTION: updateFixedColumnLeftOffset()");let e=0;const t=.1*parseFloat(getComputedStyle(document.documentElement).fontSize);let n=0;for(let o=1;o<=2;o++){const r=document.querySelectorAll(`th:nth-child(${o}), td:nth-child(${o})`);if(r.length>0){const o=r[0].offsetWidth;e+=o,r.forEach((t=>{t.style.left=e-o-n+"px"})),n+=t}}}function a(e){console.log("FUNCTION: adjustTableSize()");const t=document.querySelector(".toFixLayoutHeader");t||console.log("ATTENTION!!!The header variable is null!");const n=document.querySelector("footer");n||console.log("ATTENTION!!! The footer variable is null!");const o=document.querySelector(".main-RenderBody-container");o||console.log("ATTENTION!!! The main variable is null!");const r=document.querySelector(".table-set-size");r||console.log("ATTENTION!!! The tableContainer variable is null!");const l=document.querySelector(".catalogPagesHeader");l||console.log("ATTENTION!!! The pageContent variable is null!"),r&&t&&n&&o&&l&&requestAnimationFrame((()=>{const a=window.innerHeight,i=window.innerWidth,s=t.scrollHeight,c=n.scrollHeight,d=getComputedStyle(o),u=parseFloat(d.paddingTop)+parseFloat(d.paddingBottom),m=parseFloat(d.marginTop)+parseFloat(d.marginBottom),f=parseFloat(d.paddingLeft)+parseFloat(d.paddingRight),p=parseFloat(d.marginLeft)+parseFloat(d.marginRight),g=l.scrollHeight,h=0*e,y=a-(s+c+u+m+g+h+6*e),E=i-(f+p+h);console.log({remInPixels:e,footerHeight:c,headerHeight:s,mainMarginH:p,mainMarginV:m,mainPaddingH:f,mainPaddingV:u,pageContentH:g,tableHeight:y,tableWidth:E,windowHeight:a,windowWidth:i}),r.style.height=`${y}px`,r.style.width=`${E}px`}))}Object.defineProperty(t,"__esModule",{value:!0}),document.addEventListener("DOMContentLoaded",(()=>{o=parseFloat(getComputedStyle(document.documentElement).fontSize),console.log("GLOBAL SCOPE"),document.addEventListener("click",(e=>{const t=e.target;console.log(`AT ${(new Date).toLocaleTimeString()} CLICKED ON:`,t),console.log("CLOSEST .restrictedContent:",t.closest(".restrictedContent"))})),document.querySelectorAll("select.form-select").forEach((e=>{if(!e.multiple)return;let t=new Set;for(let n of Array.from(e.options))(n.hasAttribute("selected")||n.selected)&&(t.add(n.value),n.selected=!0,n.classList.add("selected-fix"));e.addEventListener("change",(function(){for(let n of Array.from(e.options))n.selected?(t.add(n.value),n.classList.add("selected-fix")):(t.delete(n.value),n.classList.remove("selected-fix"))})),e.addEventListener("mousedown",(function(e){e.preventDefault();let n=e.target;if("OPTION"===n.tagName){let e=n;t.has(e.value)?(t.delete(e.value),e.selected=!1,e.classList.remove("selected-fix")):(t.add(e.value),e.selected=!0,e.classList.add("selected-fix"))}return!1}))})),function(){console.log("FUNCTION: alertUnauthorizedAccess()");const e=document.querySelectorAll(".restrictedWrapper");void 0===window.isAuthenticated||window.isAuthenticated||(console.log(`FUNCTION: alertUnauthorizedAccess(): isAuthenticated = ${window.isAuthenticated}`),e.forEach((e=>{const t=document.createElement("div");t.classList.add("restrictedMask"),t.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),u("Filters are unavailable for unregistered users. Please sign in.")}));e.querySelectorAll("button, input, a").forEach((e=>{e.disabled=!0})),e.appendChild(t)})))}(),l(),a(o),function(){const e=document.getElementById("updateCatalogData");if(!e)return;e.addEventListener("click",(e=>n(this,void 0,void 0,(function*(){const t=document.querySelector(".topMenuFiltersCatalogs");console.log(t),e.preventDefault(),yield function(e,t,o,r){return n(this,void 0,void 0,(function*(){console.log("FUNCTION: submitFormAndUpdatePartial()");const n=r?document.querySelector(r):null,l=document.getElementById("catalogTableBody"),a=function(e){const t={};e.querySelectorAll('input:not([type="hidden"]), select').forEach((e=>{const n=e.name||e.id;if(n)if(e instanceof HTMLSelectElement)if(e.multiple){let o=Array.from(e.selectedOptions).map((e=>e.value));t[n]=o}else t[n]=e.value;else e instanceof HTMLInputElement&&("checkbox"===e.type?e.checked&&(Array.isArray(t[n])||(t[n]=[]),t[n].push(e.value)):"radio"===e.type?e.checked&&(t[n]=e.value):t[n]=e.value)}));for(const e in t)if(Array.isArray(t[e])&&1===t[e].length&&(t[e]=t[e][0]),Array.isArray(t[e])){const n=Array.from(new Set(t[e]));t[e]=1===n.length?n[0]:n}return t.PageNumberVaulue="1",t}(e);console.log(a);try{if(n)n.classList.remove("hidden");else{console.log("Adding spinnerHTML.");const e=document.getElementById("spinnerTr");e&&e.remove(),l.insertAdjacentHTML("afterbegin",function(){const e=function(){const e=document.querySelector(".fieldsCheckBoks");if(!e)return 0;const t=e.querySelectorAll('input[type="checkbox"]');return Array.from(t).reduce(((e,t)=>e+(t.checked?1:0)),0)+2}();return`\n        <tr id="spinnerTr">\n            <td colspan="${e}" class="text-center align-items-center" style="height: 20rem;">\n                <div id="spinner" class="spinner"> </div>\n            </td>\n        </tr>\n    `}())}const e=yield fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const r=yield e.text(),i=document.querySelector(o);i?i.innerHTML=r:console.error(`Partial container with selector "${o}" not found.`)}catch(e){console.error("Error submitting form or updating partial:",e)}finally{if(n)n.classList.add("hidden");else{const e=document.getElementById("spinnerTr");e&&e.remove()}}}))}(t,"/Catalogs/NGCICOpendatasofts/Index","#sizeFilterTable")}))))}(),r(".responsiveColumnsContainer",o)})),window.addEventListener("resize",(()=>{o=parseFloat(getComputedStyle(document.documentElement).fontSize),r(".responsiveColumnsContainer",o),function(e){l(),a(e)}(o)}));const i=new ResizeObserver((()=>a(o))),s=document.querySelector(".toFixLayoutHeader"),c=document.querySelector("footer"),d=document.querySelector(".main-RenderBody-container");function u(e){console.log("FUNCTION: showAlert()");const t="dark"===localStorage.getItem("theme");"undefined"!=typeof Swal&&Swal.fire?Swal.fire({title:"Attention!",text:e,icon:"info",background:t?"#414243":"white",color:t?"red":"black",confirmButtonColor:t?"red":"blue",confirmButtonText:"OK"}):alert(e)}s&&i.observe(s),c&&i.observe(c),d&&i.observe(d);const m=crypto.randomUUID(),f=(new signalR.HubConnectionBuilder).withUrl(`/progresshub?jobId=${m}`).build();let p=null,g=!1;function h(){const e=document.getElementById("importPlanetDataButton"),t=document.getElementById("progressContainer"),n=document.getElementById("importProgress"),o=document.getElementById("stopImportingPlanetDataButton");e.disabled=!1,t.style.display="none",n.style.width="0%",n.innerText="0%",o.disabled=!0,o.style.display="none",g=!1,p=null,fetch("/Planets/PlanetsCatalog/GetPlanetsTable").then((e=>e.text())).then((e=>{document.getElementById("planetsTableContainer").innerHTML=e})).catch((e=>console.error("Error updating table:",e)))}f.start().catch((e=>console.error(e.toString()))),f.on("ReceiveProgress",(e=>{const t=document.getElementById("importProgress");t.style.width=e+"%",t.innerText=e+"%",e>=100&&h()})),window.startImport=function(){if(g)return;g=!0,p=new AbortController;const e=document.getElementById("importPlanetDataButton"),t=document.getElementById("progressContainer"),n=document.getElementById("stopImportingPlanetDataButton");e.disabled=!0,t.style.display="block",n.disabled=!1,n.style.display="inline-block",fetch(`/Planets/PlanetsCatalog/ImportData_OpenXml?jobId=${m}`,{method:"POST",signal:p.signal}).then((e=>{(e.ok||499===e.status)&&h()})).catch((e=>{"AbortError"===e.name?console.log("Import aborted by user"):console.error("Import error:",e),h()}))},window.stopImport=function(){p&&p.abort(),fetch(`/Planets/PlanetsCatalog/CancelImport?jobId=${m}`,{method:"POST"}),h()},window.fetchDateUsingADO=function(){$.ajax({url:"/Admin/HomeAdmin/GetDateFromProcedureADO",type:"GET"}).done((e=>u(e))).fail((e=>{u("ADO. THERE ARE SOME ISSUES ON THE SERVER! PLEASE CONTACT THE ADMINISTRATION."),console.log(e)})).always((()=>console.log("Request execution completed!")))},window.fetchDateUsingEF=function(){$.ajax({url:"/Admin/HomeAdmin/GetDateFromProcedureEF",type:"GET"}).done((e=>u(e))).fail((e=>{u("EF. THERE ARE SOME ISSUES ON THE SERVER! PLEASE CONTACT THE ADMINISTRATION."),console.log(e)}))},window.executeCreateNewDateProcedure=function(){$.ajax({url:"/Admin/HomeAdmin/CallCreateNewDateProcedure",type:"GET"}).done((e=>{$("#dataTableContainer").html(e)})).fail((()=>{u("AN ERROR OCCURRED WHEN THE CallCreateNewDateProcedure WAS CALLED. THERE ARE SOME ISSUES ON THE SERVER! PLEASE CONTACT THE ADMINISTRATION.")}))}}})[845](0,{})})();