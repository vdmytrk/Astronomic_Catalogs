(()=>{"use strict";({924:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(a,l){function r(e){try{c(o.next(e))}catch(e){l(e)}}function i(e){try{c(o.throw(e))}catch(e){l(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,i)}c((o=o.apply(e,t||[])).next())}))};function o(){return`\n        <tr id="spinnerTr">\n            <td colspan="${function(){const e=document.querySelector(".fieldsCheckBoks");if(!e)return 0;const t=e.querySelectorAll('input[type="checkbox"]');return Array.from(t).reduce(((e,t)=>e+(t.checked?1:0)),0)+2}()}" class="text-center align-items-center" style="height: 20rem;">\n                <div id="spinner" class="spinner"> </div>\n            </td>\n        </tr>\n    `}function a(e,t){var n,o;let a={};e.querySelectorAll('input:not([type="hidden"]), select').forEach((e=>{const t=e.name||e.id;if(t)if(e instanceof HTMLSelectElement)if(e.multiple){let n=Array.from(e.selectedOptions).map((e=>e.value));a[t]=n}else a[t]=e.value;else e instanceof HTMLInputElement&&("checkbox"===e.type?e.checked&&(Array.isArray(a[t])||(a[t]=[]),a[t].push(e.value)):"radio"===e.type?e.checked&&(a[t]=e.value):a[t]=e.value)}));for(const e in a)if(Array.isArray(a[e])&&1===a[e].length&&(a[e]=a[e][0]),Array.isArray(a[e])){const t=Array.from(new Set(a[e]));a[e]=1===t.length?t[0]:t}a.PageNumberVaulue=null!==(o=null===(n=t.match(/^\d+/))||void 0===n?void 0:n[0])&&void 0!==o?o:"1";const l=document.querySelector("label.switchTableType input[type='checkbox']");return l&&(a=function(e,t){console.log("FUNCTION: getPartialViewName");const n=t.checked,o=n?"_PlanetarySystemTable":"_PlanetarySystemTableInGroups";return e.PartialViewName=o,e}(a,l)),console.log("serializeForm (after): ",a),a}function l(e,t,l){return n(this,arguments,void 0,(function*(e,t,n,l="1"){console.log(`FUNCTOIN: submitFormAndUpdatePartial(form: ${e}, url: ${t}, partialSelector: ${n}, pageNumber: ${l}!!!`);const r=document.querySelector(n),i=document.getElementById("paginationBodyBlockContainer");let c=document.getElementById("catalogTableBody");const s=a(e,l);try{console.log("Adding spinnerHTML.");const e=document.getElementById("spinnerTr");e&&e.remove(),c&&c.insertAdjacentHTML("afterbegin",o());const a=yield fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const l=yield a.json();console.log("Fetched data:",l),r&&l.tableHtml?r.innerHTML=l.tableHtml:console.error(`Partial container with selector "${n}" not found.`),i&&l.paginationHtml?i.innerHTML=l.paginationHtml:console.error('Partial container with selector "paginationBodyBlockContainer" not found.')}catch(e){console.error("Error submitting form or updating partial:",e)}finally{const e=document.getElementById("spinnerTr");e&&e.remove()}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.createSpinnerHTML=o,t.serializeForm=a,window.__formHandlerInitialized||(window.__formHandlerInitialized=!0,document.addEventListener("DOMContentLoaded",(()=>{console.log("astronomicCatalogFormHandler initialized"),document.addEventListener("click",(e=>{const t=e.target,n=t.classList.contains("paginationCell"),o=t.classList.contains("applyFiltersBtn");if(n||o){const e=t.getAttribute("data-controller");e&&function(e,t){var n;const o=document.querySelector(".topMenuFiltersCatalogs");if(!o)return;console.log(o);let a="1";t&&(a=(null===(n=t.textContent)||void 0===n?void 0:n.trim())||"1"),"NGCICOpendatasofts"===e&&(console.log("catalog === 'NGCICOpendatasofts' 1111"),l(o,"/Catalogs/NGCICOpendatasofts/Index","#sizeFilterTable",a)),"CollinderCatalogs"===e&&(console.log("catalog === 'CollinderCatalogs' 2222"),l(o,"/Catalogs/CollinderCatalogs/Index","#sizeFilterTable",a)),"PlanetsCatalog"===e&&(console.log("catalog === 'PlanetsCatalog' 3333"),l(o,"/Planetology/PlanetsCatalog/Index","#sizeFilterTable",a)),"PlanetarySystem"===e&&(console.log("catalog === 'PlanetarySystem 4444'"),l(o,"/Planetology/PlanetarySystem/Index","#sizeFilterTable",a))}(e,n?t:null)}}))})))}})[924](0,{})})();