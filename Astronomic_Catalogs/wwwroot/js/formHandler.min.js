(()=>{"use strict";({924:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function l(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,a)}c((o=o.apply(e,t||[])).next())}))};function o(){return`\n        <tr id="spinnerTr">\n            <td colspan="${function(){const e=document.querySelector(".fieldsCheckBoks");if(!e)return 0;const t=e.querySelectorAll('input[type="checkbox"]');return Array.from(t).reduce(((e,t)=>e+(t.checked?1:0)),0)+2}()}" class="text-center align-items-center" style="height: 20rem;">\n                <div id="spinner" class="spinner"> </div>\n            </td>\n        </tr>\n    `}function r(e,t,r){return n(this,arguments,void 0,(function*(e,t,n,r="1"){console.log("FUNCTION: submitFormAndUpdatePartial()");const i=document.querySelector(n),l=document.getElementById("paginationBodyBlockContainer");let a=document.getElementById("catalogTableBody");const c=function(e,t){var n,o;const r={};e.querySelectorAll('input:not([type="hidden"]), select').forEach((e=>{const t=e.name||e.id;if(t)if(e instanceof HTMLSelectElement)if(e.multiple){let n=Array.from(e.selectedOptions).map((e=>e.value));r[t]=n}else r[t]=e.value;else e instanceof HTMLInputElement&&("checkbox"===e.type?e.checked&&(Array.isArray(r[t])||(r[t]=[]),r[t].push(e.value)):"radio"===e.type?e.checked&&(r[t]=e.value):r[t]=e.value)}));for(const e in r)if(Array.isArray(r[e])&&1===r[e].length&&(r[e]=r[e][0]),Array.isArray(r[e])){const t=Array.from(new Set(r[e]));r[e]=1===t.length?t[0]:t}return r.PageNumberVaulue=null!==(o=null===(n=t.match(/^\d+/))||void 0===n?void 0:n[0])&&void 0!==o?o:"1",console.log("serializeForm (after): ",r),r}(e,r);try{console.log("Adding spinnerHTML.");const e=document.getElementById("spinnerTr");e&&e.remove(),a&&a.insertAdjacentHTML("afterbegin",o());const r=yield fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=yield r.json();console.log("Fetched data:",s),i&&s.tableHtml?i.innerHTML=s.tableHtml:console.error(`Partial container with selector "${n}" not found.`),l&&s.paginationHtml?l.innerHTML=s.paginationHtml:console.error('Partial container with selector "paginationBodyBlockContainer" not found.')}catch(e){console.error("Error submitting form or updating partial:",e)}finally{const e=document.getElementById("spinnerTr");e&&e.remove()}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=function(){document.addEventListener("click",(e=>{const t=e.target,n=t.classList.contains("paginationCell"),o=t.classList.contains("applyFiltersBtn");if(n||o){const e=t.getAttribute("data-controller");e&&function(e,t){var n;const o=document.querySelector(".topMenuFiltersCatalogs");if(!o)return;console.log(o);let i="1";t&&(i=(null===(n=t.textContent)||void 0===n?void 0:n.trim())||"1"),"NGCICOpendatasofts"===e&&r(o,"/Catalogs/NGCICOpendatasofts/Index","#sizeFilterTable",i),"CollinderCatalogs"===e&&r(o,"/Catalogs/CollinderCatalogs/Index","#sizeFilterTable",i)}(e,n?t:null)}}))}}})[924](0,{})})();