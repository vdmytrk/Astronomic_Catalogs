(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){[".fieldsCheckBoks",".topMenuFiltersCatalogs",".additionalBlock"].forEach((e=>{const o=document.querySelector(e);o&&o.querySelectorAll('input[type="checkbox"]').forEach((e=>{e.setAttribute("data-initial",e.checked.toString())}))}));const e=document.querySelector(".selectAllFieldsCheckBox"),o=document.querySelector(".deselectAllFieldsCheckBox"),t=document.querySelector(".setDefaultValueForAllFieldsCheckBox");e?.addEventListener("click",(()=>{f(!0)})),o?.addEventListener("click",(()=>{f(!1)})),t?.addEventListener("click",(()=>{h()})),v(),[["Ang_Diameter_min","Ang_Diameter_max"],["Ang_Diameter_New_min","Ang_Diameter_New_max"]].forEach((([e,o])=>{[e,o].forEach((t=>{const n=document.getElementById(t);n&&n.addEventListener("change",(()=>r(e,o,!0)))}))})),["RA_From_Hours","RA_To_Hours","RA_From_Minutes","RA_To_Minutes","RA_From_Seconds","RA_To_Seconds"].forEach((e=>{const o=document.getElementById(e);o&&o.addEventListener("change",n)})),["Dec_From_Degrees","Dec_To_Degrees","Dec_From_Minutes","Dec_To_Minutes","Dec_From_Seconds","Dec_To_Seconds"].forEach((e=>{const o=document.getElementById(e);o&&o.addEventListener("change",l)})),function(){let e=document.getElementById("Dec_From_Pole"),o=document.getElementById("Dec_To_Pole");if(!e||!o)return;e.addEventListener("change",(function(){o=document.getElementById("Dec_To_Pole");const t=["Dec_To_Pole","Dec_To_Degrees","Dec_To_Minutes","Dec_To_Seconds"];"+"===this.value&&"-"===o.value&&(o.value="+",u(t)),this.value===o.value?(console.log(`fromPole = ${e.value} === toPole = ${o.value}`),l()):(a("From",this.value),a("To",o.value))})),o.addEventListener("change",(function(){e=document.getElementById("Dec_From_Pole");const t=["Dec_From_Pole","Dec_From_Degrees","Dec_From_Minutes","Dec_From_Seconds"];"-"===this.value&&"+"===e.value&&(e.value="-",u(t)),this.value===e.value?(console.log(`fromPole = ${e.value} === toPole = ${o.value}`),l()):(a("From",e.value),a("To",this.value))})),a("From",e.value),a("To",o.value)}(),function(){const e=["discoveredPlenetCountFom","discoveredPlenetCountTo"];e.forEach((o=>{const t=document.getElementById(o);t&&t.addEventListener("change",(()=>r(e[0],e[1],!0)))}))}(),function(){const e=document.querySelector("label.switchButtonFixColumnWidth input[type='checkbox']");if(!e)return;e.addEventListener("change",(()=>{g(e)}))}()}));const e={Ang_Diameter_min:t(0,300),Ang_Diameter_max:t(0,300),Ang_Diameter_New_min:t(0,350),Ang_Diameter_New_max:t(0,350),RA_From_Hours:o(0,23),RA_To_Hours:o(0,23),RA_From_Minutes:o(0,59),RA_To_Minutes:o(0,59),RA_From_Seconds:o(0,59),RA_To_Seconds:o(0,59),Dec_From_Degrees:o(0,89),Dec_To_Degrees:o(0,89),Dec_From_Minutes:o(0,59),Dec_To_Minutes:o(0,59),Dec_From_Seconds:o(0,59),Dec_To_Seconds:o(0,59),discoveredPlenetCountFom:t(1,8),discoveredPlenetCountTo:t(1,8)};function o(e,o){const t=[];for(let n=e;n<=o;n++){const e=n.toString().padStart(2,"0");t.push({value:e,text:e})}return t}function t(e,o){const t=[];for(let n=e;n<=o;n++){const e=n.toString();t.push({value:e,text:e})}return t}function n(){let e=!1,o=!1,t=!1;console.log("######## FUNCTION: handleRaDependencies"),r("RA_From_Hours","RA_To_Hours",!0),e=c("RA_From_Hours","RA_To_Hours"),r("RA_From_Minutes","RA_To_Minutes",e,(()=>{o=c("RA_From_Minutes","RA_To_Minutes"),t=e&&o,console.log(`MINUTES: conditionForSeconds(${t}) = hoursEqual(${e}) && minutesEqual(${o})!`),r("RA_From_Seconds","RA_To_Seconds",t)})),e=c("RA_From_Hours","RA_To_Hours"),o=c("RA_From_Minutes","RA_To_Minutes"),t=e&&o,console.log(`SECONDS: conditionForSeconds(${t}) = hoursEqual(${e}) && minutesEqual(${o})!`),r("RA_From_Seconds","RA_To_Seconds",t)}function l(){console.log("FUNCTION: handleDecDependencies");let e=!1,o=!1,t=!1,n=!1,l=!1;console.log("######## FUNCTION: handleDecDependencies"),e=c("Dec_From_Pole","Dec_To_Pole"),s("Dec_From_Degrees","Dec_To_Degrees",e),e=c("Dec_From_Pole","Dec_To_Pole"),o=c("Dec_From_Degrees","Dec_To_Degrees"),n=e&&o,s("Dec_From_Minutes","Dec_To_Minutes",n,(()=>{t=c("Dec_From_Minutes","Dec_To_Minutes"),l=e&&o&&t,console.log(`MINUTES: conditionForSeconds(${l}) = hoursEqual(${o}) && minutesEqual(${t})!`),s("Dec_From_Seconds","Dec_To_Seconds",l)})),e=c("Dec_From_Pole","Dec_To_Pole"),o=c("Dec_From_Degrees","Dec_To_Degrees"),t=c("Dec_From_Minutes","Dec_To_Minutes"),l=e&&o&&t,console.log(`SECONDS: conditionForSeconds(${l}) = hoursEqual(${o}) && minutesEqual(${t})!`),s("Dec_From_Seconds","Dec_To_Seconds",l)}function c(e,o){const t=document.getElementById(e),n=document.getElementById(o);if(!t||!n)return!1;return t.value===n.value}function s(o,t,n=!1,l=null){console.log(`******** initializeRangeElementsIntegers FOR ${o} AND ${t}: WITH Condition: ${n}`);const c=document.getElementById(o),s=document.getElementById(t);console.log(`****  fromEl = ${c.value} AND toEl = ${s.value}!!!`);let r=document.getElementById("Dec_From_Pole"),i=document.getElementById("Dec_To_Pole");if(!(c&&s&&r&&i))return;const u=e[o],a="-"===r.value,m="-"===i.value;n?(!function(e,o,t,n){console.log(`FUNCTION: setLowerLimitOptionsIntegers WITH maxSelectObject-value = ${o.value} AND minSelectObject.value = ${e.value} AND isDescending = ${n}`);const l=parseInt(e.value);let c;c=n?t.filter((e=>parseInt(e.value)<=l)):t.filter((e=>parseInt(e.value)>=l));console.log(`validOptions(minSelectObject).lengh = ${Array.from(c).length}`),d(o,c,n)}(c,s,u,m),console.log(`**  fromEl = ${c.value} AND toEl = ${s.value}!!!`),function(e,o,t,n){console.log(`FUNCTION: setUpperLimitOptionsIntegers WITH minSelectObject.value = ${e.value} AND maxSelectObject-value = ${o.value} AND isDescending = ${n}`);const l=parseInt(o.value);let c;c=n?t.filter((e=>parseInt(e.value)>=l)):t.filter((e=>parseInt(e.value)<=l));console.log(`validOptions(maxSelectObject).lengh = ${Array.from(c).length}`),d(e,c,n)}(c,s,u,a),console.log(`*  fromEl = ${c.value} AND toEl = ${s.value}!!!`)):(console.log("#### relativeCondition = false"),d(c,u,a),d(s,u,m)),l&&l()}function r(o,t,n=!1,l=null){console.log(`******** initializeRangeElementsNatural FOR ${o} AND ${t}: WITH Condition: ${n}`);const c=document.getElementById(o),s=document.getElementById(t);if(console.log(`****  fromEl = ${c.value} AND toEl = ${s.value}!!!`),!c||!s)return;const r=e[o];console.log(`fromId = ${o} | toId = ${t}`),n?(console.log(`***  relativeCondition IS TRUE, SO: fromEl = ${c.value} AND toEl = ${s.value}!!!`),function(e,o,t){console.log(`FUNCTION: setLowerLimitOptionsNatural WITH minSelectObject.value = ${e.value} AND maxSelectObject-value = ${o.value}`);const n=parseInt(e.value),l=t.filter((e=>parseInt(e.value)>=n));console.log(`validOptions(maxSelectObject).lengh = ${Array.from(l).length}`),i(o,l)}(c,s,r),console.log(`**  fromEl = ${c.value} AND toEl = ${s.value}!!!`),function(e,o,t){console.log(`FUNCTION: setUpperLimitOptionsNatural WITH maxSelectObject-value = ${o.value} AND minSelectObject.value = ${e.value}`);const n=parseInt(o.value),l=t.filter((e=>parseInt(e.value)<=n));console.log(`validOptions(minSelectObject).lengh = ${Array.from(l).length}`),i(e,l)}(c,s,r),console.log(`*  fromEl = ${c.value} AND toEl = ${s.value}!!!`)):(console.log("#### relativeCondition = false"),i(c,r),i(s,r)),l&&l()}function i(e,o){console.log(`FUNCTION: setOptions WITH selectEl-value = ${e.value} AND validOptions.length = ${Array.from(o).length}`);const t=e.value;e.innerHTML="",console.log(`FUNCTION setOptions: currentValue = ${t}`);o.forEach((o=>{const n=document.createElement("option");n.value=o.value,n.text=o.text,o.value===t&&(n.selected=!0),e.appendChild(n)})),console.log(`"""""""" selectEl-value = ${e.value}`)}function u(e){const o=e.map((e=>document.getElementById(e))).filter((e=>e));if(0===o.length)return;o.forEach((e=>{e.classList.remove("pole-flash"),e.offsetWidth,e.classList.add("pole-flash")}));const t=o[0],n=()=>{o.forEach((e=>e.classList.remove("pole-flash"))),t.removeEventListener("animationend",n)};t.addEventListener("animationend",n)}function a(o,t){const n="From"===o?"From":"To",l="-"===t;console.log(`suffix = ${n} | isDescending = ${l}`);const c=`Dec_${n}_Degrees`,s=`Dec_${n}_Minutes`,r=`Dec_${n}_Seconds`,i=document.getElementById(c),u=document.getElementById(s),a=document.getElementById(r);i&&u&&a&&(d(i,e[c],l),d(u,e[s],l),d(a,e[r],l))}function d(e,o,t=!1){console.log(`FUNCTION: setOptions_Sortig WITH selectEl-value = ${e.value} AND validOptions.length = ${Array.from(o).length} AND isDescending = ${t}`);const n=e.value;e.innerHTML="";(t?[...o].sort(((e,o)=>parseInt(o.value)-parseInt(e.value))):o).forEach((o=>{const l=document.createElement("option");l.value=o.value,l.text=t?`-${o.text}`:o.text,o.value===n&&(l.selected=!0),e.appendChild(l)})),console.log(`"""""""" selectEl-value = ${e.value}`)}function m(e,o){console.log("FUNCTION: updateColumnVisibility(visible, className)");const t=document.querySelectorAll(".hideShowColumnTable table.table thead tr th");if(0===t.length)return;let n=-1;t.forEach(((t,l)=>{console.log(`columnIndex = ${n} | className = ${o}`),t.classList.contains(o)&&(n=l+1,document.querySelectorAll(`table.table thead th:nth-child(${n})`).forEach((o=>{_(o,e)})),document.querySelectorAll(`table.table tbody tr td:nth-child(${n})`).forEach((o=>{_(o,e)})))})),-1!==n||console.warn("Стовпець з класом "+o+" не знайдено.")}function _(e,o){e.classList.add("fade-column"),o?(e.style.width=e.scrollWidth+"px",requestAnimationFrame((()=>{e.classList.remove("hidden-column")}))):(e.style.width=e.offsetWidth+"px",requestAnimationFrame((()=>{e.classList.add("hidden-column")}))),setTimeout((()=>e.hidden=!o),400)}function g(e){console.log("FUNCTION: setAstroCatalogColumnWidth");const o=document.querySelector("table.astroCatalogTable");if(!e||!o)return;const t=e.checked;console.log(`@@@@@@ Checkbox is ${t}!`),console.log("Before toggle:",o.classList.toString()),o.classList.toggle("setColumnWidth",t),console.log("After toggle:",o.classList.toString())}function f(e){const o=document.querySelector(".fieldsCheckBoks");if(!o)return;o.querySelectorAll('input[type="checkbox"]').forEach((o=>{o.checked=e})),v()}function h(){const e=document.querySelector(".fieldsCheckBoks");if(!e)return;e.querySelectorAll('input[type="checkbox"]').forEach((e=>{const o=e.getAttribute("data-initial");null!==o&&(e.checked="true"===o)})),v(),setTimeout((()=>{g()}),2)}function v(){const e=document.querySelector(".fieldsCheckBoks");if(!e)return;e.querySelectorAll('input[type="checkbox"]').forEach((e=>{const o=e.className.split(" "),t=o.find((e=>e.startsWith("chb-")))?.replace("chb-","");t&&m(e.checked,t)}))}function D(){const e=document.querySelector(".responsiveColumnsContainer");if(!e)return;e.querySelectorAll('input[type="checkbox"]').forEach((e=>{e.checked=!1}))}function E(){const e=document.querySelector(".typeCatalogFilters");if(!e)return;e.querySelectorAll('input[type="checkbox"]').forEach((e=>{e.checked=!0}))}function A(e){e&&e.options&&Array.from(e.options).forEach((e=>{e.selected=!1,e.classList.remove("selected-fix")}))}window.toggleCheckbox=function(e,o){m(e.checked,o)},window.resetObjectSelection=D,window.resetTypeCatalogSelection=E,window.resetAllFilters=function(){h(),function(){const e=document.querySelector(".topMenuFiltersCatalogs");if(!e)return;e.querySelectorAll('input[type="checkbox"]').forEach((e=>{const o=e.getAttribute("data-initial");null!==o&&(e.checked="true"===o)}))}(),D(),E(),function(){const e=document.querySelectorAll("select[data-default]");if(0===e.length)return;e.forEach((e=>{e.value=e.getAttribute("data-default")}));[["Ang_Diameter_min","Ang_Diameter_max"],["Ang_Diameter_New_min","Ang_Diameter_New_max"],["RA_From_Hours","RA_To_Hours"],["RA_From_Minutes","RA_To_Minutes"],["RA_From_Seconds","RA_To_Seconds"],["discoveredPlenetCountFom","discoveredPlenetCountTo"]].forEach((([e,o])=>{console.log(`**** RESORE RANGE FOR Natural: ${e} AND ${o}`);const t=document.getElementById(e);console.log(`minEl is ${t}`),t&&(console.log("ForEach before -> Natural"),r(e,o,!1))}));[["Dec_From_Degrees","Dec_To_Degrees"],["Dec_From_Minutes","Dec_To_Minutes"],["Dec_From_Seconds","Dec_To_Seconds"]].forEach((([e,o])=>{console.log(`**** RESORE RANGE FOR Integers: ${e} AND ${o}`);const t=document.getElementById(e);console.log(`minEl is ${t}`),t&&(console.log("ForEach before -> Integers"),s(e,o,!1))}))}(),function(){A(document.getElementById("constellationSelect"));const e=document.querySelectorAll('.constellationSelectTable input[type="checkbox"]');if(0===e.length)return;e.forEach((e=>{e.checked=!1}))}(),["planetTypeSelect","exoplanetTelescope","exoplanetPlanetName","exoplanetDiscoveryMethod"].forEach((e=>{const o=document.getElementById(e);e&&A(o)})),function(){console.log("FUNCTION: resetDateFilters");if(0===document.querySelectorAll(".discoveredDateBlock").length)return;const e=document.getElementById("dateFrom"),o=document.getElementById("dateTo"),t=(new Date).toISOString().split("T")[0];e&&(e.value="",e.min="1992-01-01",e.max=t);o&&(o.value="",o.min="1992-01-01",o.max=t)}(),function(e){const o=document.querySelectorAll(`input[type="text"].${e}`);if(0===o.length)return;o.forEach((e=>{e.value=""}))}("text-Name")}})();