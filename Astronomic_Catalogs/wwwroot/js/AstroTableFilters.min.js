(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".selectAllFieldsCheckBox"),t=document.querySelector(".deselectAllFieldsCheckBox"),o=document.querySelector(".setDefaultValueForAllFieldsCheckBox"),r=document.querySelector(".fieldsCheckBoks");if(r){r.querySelectorAll('input[type="checkbox"]').forEach((e=>{e.setAttribute("data-initial",e.checked.toString())}))}e?.addEventListener("click",(()=>{f(!0)})),t?.addEventListener("click",(()=>{f(!1)})),o?.addEventListener("click",(()=>{h()})),D();const l=document.querySelector(".hideFilters"),u=document.querySelector(".top_menu_filters_catalogs");l?.addEventListener("click",(()=>{const e=u.classList.toggle("collapsed");l.textContent=e?"Show filters":"Hide filters"})),["Ang_Diameter_min","Ang_Diameter_max"].forEach((e=>{const t=document.getElementById(e);t&&t.addEventListener("change",(()=>s("Ang_Diameter_min","Ang_Diameter_max",!0)))})),["RA_From_Hours","RA_To_Hours","RA_From_Minutes","RA_To_Minutes","RA_From_Seconds","RA_To_Seconds"].forEach((e=>{const t=document.getElementById(e);t&&t.addEventListener("change",n)})),["Dec_From_Degrees","Dec_To_Degrees","Dec_From_Minutes","Dec_To_Minutes","Dec_From_Seconds","Dec_To_Seconds"].forEach((e=>{const t=document.getElementById(e);t&&t.addEventListener("change",c)})),function(){let e=document.getElementById("Dec_From_Pole"),t=document.getElementById("Dec_To_Pole");if(!e||!t)return;e.addEventListener("change",(function(){t=document.getElementById("Dec_To_Pole");const e=["Dec_To_Pole","Dec_To_Degrees","Dec_To_Minutes","Dec_To_Seconds"];"+"===this.value&&"-"===t.value&&(t.value="+",i(e)),this.value===t.value?c():(_("From",this.value),_("To",t.value))})),t.addEventListener("change",(function(){e=document.getElementById("Dec_From_Pole");const t=["Dec_From_Pole","Dec_From_Degrees","Dec_From_Minutes","Dec_From_Seconds"];"-"===this.value&&"+"===e.value&&(e.value="-",i(t)),this.value===e.value?c():(_("From",e.value),_("To",this.value))})),_("From",e.value),_("To",t.value)}()}));const e={Ang_Diameter_min:o(0,95),Ang_Diameter_max:o(0,95),RA_From_Hours:t(0,23),RA_To_Hours:t(0,23),RA_From_Minutes:t(0,59),RA_To_Minutes:t(0,59),RA_From_Seconds:t(0,59),RA_To_Seconds:t(0,59),Dec_From_Degrees:t(0,89),Dec_To_Degrees:t(0,89),Dec_From_Minutes:t(0,59),Dec_To_Minutes:t(0,59),Dec_From_Seconds:t(0,59),Dec_To_Seconds:t(0,59)};function t(e,t){const o=[];for(let n=e;n<=t;n++){const e=n.toString().padStart(2,"0");o.push({value:e,text:e})}return o}function o(e,t){const o=[];for(let n=e;n<=t;n++){const e=n.toString();o.push({value:e,text:e})}return o}function n(){let e=!1,t=!1,o=!1;s("RA_From_Hours","RA_To_Hours",!0),e=r("RA_From_Hours","RA_To_Hours"),s("RA_From_Minutes","RA_To_Minutes",e,(()=>{t=r("RA_From_Minutes","RA_To_Minutes"),o=e&&t,s("RA_From_Seconds","RA_To_Seconds",o)})),e=r("RA_From_Hours","RA_To_Hours"),t=r("RA_From_Minutes","RA_To_Minutes"),o=e&&t,s("RA_From_Seconds","RA_To_Seconds",o)}function c(){let e=!1,t=!1,o=!1,n=!1,c=!1;e=r("Dec_From_Pole","Dec_To_Pole"),l("Dec_From_Degrees","Dec_To_Degrees",e),e=r("Dec_From_Pole","Dec_To_Pole"),t=r("Dec_From_Degrees","Dec_To_Degrees"),n=e&&t,l("Dec_From_Minutes","Dec_To_Minutes",n,(()=>{o=r("Dec_From_Minutes","Dec_To_Minutes"),c=e&&t&&o,l("Dec_From_Seconds","Dec_To_Seconds",c)})),e=r("Dec_From_Pole","Dec_To_Pole"),t=r("Dec_From_Degrees","Dec_To_Degrees"),o=r("Dec_From_Minutes","Dec_To_Minutes"),c=e&&t&&o,l("Dec_From_Seconds","Dec_To_Seconds",c)}function r(e,t){const o=document.getElementById(e),n=document.getElementById(t);if(!o||!n)return!1;return o.value===n.value}function l(t,o,n=!1,c=null){const r=document.getElementById(t),l=document.getElementById(o);let s=document.getElementById("Dec_From_Pole"),u=document.getElementById("Dec_To_Pole");if(!(r&&l&&s&&u))return;const i=e[t],_="-"===s.value,d="-"===u.value;n?(function(e,t,o,n){const c=parseInt(e.value);let r;r=n?o.filter((e=>parseInt(e.value)<=c)):o.filter((e=>parseInt(e.value)>=c));a(t,r,n)}(r,l,i,d),function(e,t,o,n){const c=parseInt(t.value);let r;r=n?o.filter((e=>parseInt(e.value)>=c)):o.filter((e=>parseInt(e.value)<=c));a(e,r,n)}(r,l,i,_)):(a(r,i,_),a(l,i,d)),c&&c()}function s(t,o,n=!1,c=null){const r=document.getElementById(t),l=document.getElementById(o);if(!r||!l)return;const s=e[t];n?(function(e,t,o){const n=parseInt(e.value),c=o.filter((e=>parseInt(e.value)>=n));u(t,c)}(r,l,s),function(e,t,o){const n=parseInt(t.value),c=o.filter((e=>parseInt(e.value)<=n));u(e,c)}(r,l,s)):(u(r,s),u(l,s)),c&&c()}function u(e,t){const o=e.value;e.innerHTML="";t.forEach((t=>{const n=document.createElement("option");n.value=t.value,n.text=t.text,t.value===o&&(n.selected=!0),e.appendChild(n)}))}function i(e){const t=e.map((e=>document.getElementById(e))).filter((e=>e));if(0===t.length)return;t.forEach((e=>{e.classList.remove("pole-flash"),e.offsetWidth,e.classList.add("pole-flash")}));const o=t[0],n=()=>{t.forEach((e=>e.classList.remove("pole-flash"))),o.removeEventListener("animationend",n)};o.addEventListener("animationend",n)}function _(t,o){const n="From"===t?"From":"To",c="-"===o,r=`Dec_${n}_Degrees`,l=`Dec_${n}_Minutes`,s=`Dec_${n}_Seconds`,u=document.getElementById(r),i=document.getElementById(l),_=document.getElementById(s);u&&i&&_&&(a(u,e[r],c),a(i,e[l],c),a(_,e[s],c))}function a(e,t,o=!1){const n=e.value;e.innerHTML="";(o?[...t].sort(((e,t)=>parseInt(t.value)-parseInt(e.value))):t).forEach((t=>{const c=document.createElement("option");c.value=t.value,c.text=o?`-${t.text}`:t.text,t.value===n&&(c.selected=!0),e.appendChild(c)}))}function d(e,t){const o=document.querySelectorAll("table.table thead th");let n=-1;o.forEach(((e,o)=>{e.classList.contains(t)&&(n=o+1)})),-1!==n?(document.querySelectorAll(`table.table thead th:nth-child(${n})`).forEach((t=>{m(t,e)})),document.querySelectorAll(`table.table tbody tr td:nth-child(${n})`).forEach((t=>{m(t,e)}))):console.warn("Стовпець з класом "+t+" не знайдено.")}function m(e,t){e.classList.add("fade-column"),t?(e.style.width=e.scrollWidth+"px",requestAnimationFrame((()=>{e.classList.remove("hidden-column")}))):(e.style.width=e.offsetWidth+"px",requestAnimationFrame((()=>{e.classList.add("hidden-column")}))),setTimeout((()=>e.hidden=!t),400)}function f(e){const t=document.querySelector(".fieldsCheckBoks");if(!t)return;t.querySelectorAll('input[type="checkbox"]').forEach((t=>{t.checked=e})),D()}function h(){const e=document.querySelector(".fieldsCheckBoks");if(!e)return;e.querySelectorAll('input[type="checkbox"]').forEach((e=>{const t=e.getAttribute("data-initial");null!==t&&(e.checked="true"===t)})),D()}function D(){const e=document.querySelector(".fieldsCheckBoks");if(!e)return;e.querySelectorAll('input[type="checkbox"]').forEach((e=>{const t=e.className.split(" "),o=t.find((e=>e.startsWith("chb-")))?.replace("chb-","");o&&d(e.checked,o)}))}function v(){const e=document.querySelector(".responsiveColumnsContainer");if(!e)return;e.querySelectorAll('input[type="checkbox"]').forEach((e=>{e.checked=!1}))}function g(){const e=document.querySelector(".typeCatalogFilters");if(!e)return;e.querySelectorAll('input[type="checkbox"]').forEach((e=>{e.checked=!0}))}window.toggleCheckbox=function(e,t){d(e.checked,t)},window.resetObjectSelection=v,window.resetTypeCatalogSelection=g,window.resetAllFilters=function(){h(),v(),g(),document.querySelectorAll("select[data-default]").forEach((e=>{e.value=e.getAttribute("data-default")}))}})();