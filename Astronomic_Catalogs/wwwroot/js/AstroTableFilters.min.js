(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){[".fieldsCheckBoks",".topMenuFiltersCatalogs",".additionalBlock"].forEach((e=>{const t=document.querySelector(e);t&&t.querySelectorAll('input[type="checkbox"]').forEach((e=>{e.setAttribute("data-initial",e.checked.toString())}))}));const e=document.querySelector(".selectAllFieldsCheckBox"),t=document.querySelector(".deselectAllFieldsCheckBox"),o=document.querySelector(".setDefaultValueForAllFieldsCheckBox");e?.addEventListener("click",(()=>{v(!0)})),t?.addEventListener("click",(()=>{v(!1)})),o?.addEventListener("click",(()=>{f()})),h(),[["Ang_Diameter_min","Ang_Diameter_max"],["Ang_Diameter_New_min","Ang_Diameter_New_max"]].forEach((([e,t])=>{[e,t].forEach((o=>{const n=document.getElementById(o);n&&n.addEventListener("change",(()=>r(e,t,!0)))}))})),["RA_From_Hours","RA_To_Hours","RA_From_Minutes","RA_To_Minutes","RA_From_Seconds","RA_To_Seconds"].forEach((e=>{const t=document.getElementById(e);t&&t.addEventListener("change",n)})),["Dec_From_Degrees","Dec_To_Degrees","Dec_From_Minutes","Dec_To_Minutes","Dec_From_Seconds","Dec_To_Seconds"].forEach((e=>{const t=document.getElementById(e);t&&t.addEventListener("change",l)})),function(){let e=document.getElementById("Dec_From_Pole"),t=document.getElementById("Dec_To_Pole");if(!e||!t)return;e.addEventListener("change",(function(){t=document.getElementById("Dec_To_Pole");const o=["Dec_To_Pole","Dec_To_Degrees","Dec_To_Minutes","Dec_To_Seconds"];"+"===this.value&&"-"===t.value&&(t.value="+",i(o)),this.value===t.value?(console.log(`fromPole = ${e.value} === toPole = ${t.value}`),l()):(a("From",this.value),a("To",t.value))})),t.addEventListener("change",(function(){e=document.getElementById("Dec_From_Pole");const o=["Dec_From_Pole","Dec_From_Degrees","Dec_From_Minutes","Dec_From_Seconds"];"-"===this.value&&"+"===e.value&&(e.value="-",i(o)),this.value===e.value?(console.log(`fromPole = ${e.value} === toPole = ${t.value}`),l()):(a("From",e.value),a("To",this.value))})),a("From",e.value),a("To",t.value)}(),function(){const e=["discoveredPlenetCountFom","discoveredPlenetCountTo"];e.forEach((t=>{const o=document.getElementById(t);o&&o.addEventListener("change",(()=>r(e[0],e[1],!0)))}))}(),function(){const e=document.querySelector("label.switchButtonFixColumnWidth input[type='checkbox']");if(!e)return;e.addEventListener("change",(()=>{g()}))}()}));const e={Ang_Diameter_min:o(0,300),Ang_Diameter_max:o(0,300),Ang_Diameter_New_min:o(0,350),Ang_Diameter_New_max:o(0,350),RA_From_Hours:t(0,23),RA_To_Hours:t(0,23),RA_From_Minutes:t(0,59),RA_To_Minutes:t(0,59),RA_From_Seconds:t(0,59),RA_To_Seconds:t(0,59),Dec_From_Degrees:t(0,89),Dec_To_Degrees:t(0,89),Dec_From_Minutes:t(0,59),Dec_To_Minutes:t(0,59),Dec_From_Seconds:t(0,59),Dec_To_Seconds:t(0,59),discoveredPlenetCountFom:o(1,8),discoveredPlenetCountTo:o(1,8)};function t(e,t){const o=[];for(let n=e;n<=t;n++){const e=n.toString().padStart(2,"0");o.push({value:e,text:e})}return o}function o(e,t){const o=[];for(let n=e;n<=t;n++){const e=n.toString();o.push({value:e,text:e})}return o}function n(){let e=!1,t=!1,o=!1;console.log("######## FUNCTION: handleRaDependencies"),r("RA_From_Hours","RA_To_Hours",!0),e=c("RA_From_Hours","RA_To_Hours"),r("RA_From_Minutes","RA_To_Minutes",e,(()=>{t=c("RA_From_Minutes","RA_To_Minutes"),o=e&&t,console.log(`MINUTES: conditionForSeconds(${o}) = hoursEqual(${e}) && minutesEqual(${t})!`),r("RA_From_Seconds","RA_To_Seconds",o)})),e=c("RA_From_Hours","RA_To_Hours"),t=c("RA_From_Minutes","RA_To_Minutes"),o=e&&t,console.log(`SECONDS: conditionForSeconds(${o}) = hoursEqual(${e}) && minutesEqual(${t})!`),r("RA_From_Seconds","RA_To_Seconds",o)}function l(){console.log("FUNCTION: handleDecDependencies");let e=!1,t=!1,o=!1,n=!1,l=!1;console.log("######## FUNCTION: handleDecDependencies"),e=c("Dec_From_Pole","Dec_To_Pole"),s("Dec_From_Degrees","Dec_To_Degrees",e),e=c("Dec_From_Pole","Dec_To_Pole"),t=c("Dec_From_Degrees","Dec_To_Degrees"),n=e&&t,s("Dec_From_Minutes","Dec_To_Minutes",n,(()=>{o=c("Dec_From_Minutes","Dec_To_Minutes"),l=e&&t&&o,console.log(`MINUTES: conditionForSeconds(${l}) = hoursEqual(${t}) && minutesEqual(${o})!`),s("Dec_From_Seconds","Dec_To_Seconds",l)})),e=c("Dec_From_Pole","Dec_To_Pole"),t=c("Dec_From_Degrees","Dec_To_Degrees"),o=c("Dec_From_Minutes","Dec_To_Minutes"),l=e&&t&&o,console.log(`SECONDS: conditionForSeconds(${l}) = hoursEqual(${t}) && minutesEqual(${o})!`),s("Dec_From_Seconds","Dec_To_Seconds",l)}function c(e,t){const o=document.getElementById(e),n=document.getElementById(t);if(!o||!n)return!1;return o.value===n.value}function s(t,o,n=!1,l=null){console.log(`******** initializeRangeElementsIntegers FOR ${t} AND ${o}: WITH Condition: ${n}`);const c=document.getElementById(t),s=document.getElementById(o);console.log(`****  fromEl = ${c.value} AND toEl = ${s.value}!!!`);let r=document.getElementById("Dec_From_Pole"),u=document.getElementById("Dec_To_Pole");if(!(c&&s&&r&&u))return;const i=e[t],a="-"===r.value,m="-"===u.value;n?(!function(e,t,o,n){console.log(`FUNCTION: setLowerLimitOptionsIntegers WITH maxSelectObject-value = ${t.value} AND minSelectObject.value = ${e.value} AND isDescending = ${n}`);const l=parseInt(e.value);let c;c=n?o.filter((e=>parseInt(e.value)<=l)):o.filter((e=>parseInt(e.value)>=l));console.log(`validOptions(minSelectObject).lengh = ${Array.from(c).length}`),d(t,c,n)}(c,s,i,m),console.log(`**  fromEl = ${c.value} AND toEl = ${s.value}!!!`),function(e,t,o,n){console.log(`FUNCTION: setUpperLimitOptionsIntegers WITH minSelectObject.value = ${e.value} AND maxSelectObject-value = ${t.value} AND isDescending = ${n}`);const l=parseInt(t.value);let c;c=n?o.filter((e=>parseInt(e.value)>=l)):o.filter((e=>parseInt(e.value)<=l));console.log(`validOptions(maxSelectObject).lengh = ${Array.from(c).length}`),d(e,c,n)}(c,s,i,a),console.log(`*  fromEl = ${c.value} AND toEl = ${s.value}!!!`)):(d(c,i,a),d(s,i,m)),l&&l()}function r(t,o,n=!1,l=null){console.log(`******** initializeRangeElementsNatural FOR ${t} AND ${o}: WITH Condition: ${n}`);const c=document.getElementById(t),s=document.getElementById(o);if(console.log(`****  fromEl = ${c.value} AND toEl = ${s.value}!!!`),!c||!s)return;const r=e[t];console.log(`fromId = ${t} | toId = ${o}`),n?(console.log(`***  relativeCondition IS TRUE, SO: fromEl = ${c.value} AND toEl = ${s.value}!!!`),function(e,t,o){console.log(`FUNCTION: setLowerLimitOptionsNatural WITH minSelectObject.value = ${e.value} AND maxSelectObject-value = ${t.value}`);const n=parseInt(e.value),l=o.filter((e=>parseInt(e.value)>=n));console.log(`validOptions(maxSelectObject).lengh = ${Array.from(l).length}`),u(t,l)}(c,s,r),console.log(`**  fromEl = ${c.value} AND toEl = ${s.value}!!!`),function(e,t,o){console.log(`FUNCTION: setUpperLimitOptionsNatural WITH maxSelectObject-value = ${t.value} AND minSelectObject.value = ${e.value}`);const n=parseInt(t.value),l=o.filter((e=>parseInt(e.value)<=n));console.log(`validOptions(minSelectObject).lengh = ${Array.from(l).length}`),u(e,l)}(c,s,r),console.log(`*  fromEl = ${c.value} AND toEl = ${s.value}!!!`)):(u(c,r),u(s,r)),l&&l()}function u(e,t){console.log(`FUNCTION: setOptions WITH selectEl-value = ${e.value} AND validOptions.length = ${Array.from(t).length}`);const o=e.value;e.innerHTML="",console.log(`FUNCTION setOptions: currentValue = ${o}`);t.forEach((t=>{const n=document.createElement("option");n.value=t.value,n.text=t.text,t.value===o&&(n.selected=!0),e.appendChild(n)})),console.log(`"""""""" selectEl-value = ${e.value}`)}function i(e){const t=e.map((e=>document.getElementById(e))).filter((e=>e));if(0===t.length)return;t.forEach((e=>{e.classList.remove("pole-flash"),e.offsetWidth,e.classList.add("pole-flash")}));const o=t[0],n=()=>{t.forEach((e=>e.classList.remove("pole-flash"))),o.removeEventListener("animationend",n)};o.addEventListener("animationend",n)}function a(t,o){const n="From"===t?"From":"To",l="-"===o;console.log(`suffix = ${n} | isDescending = ${l}`);const c=`Dec_${n}_Degrees`,s=`Dec_${n}_Minutes`,r=`Dec_${n}_Seconds`,u=document.getElementById(c),i=document.getElementById(s),a=document.getElementById(r);u&&i&&a&&(d(u,e[c],l),d(i,e[s],l),d(a,e[r],l))}function d(e,t,o=!1){console.log(`FUNCTION: setOptions_Sortig WITH selectEl-value = ${e.value} AND validOptions.length = ${Array.from(t).length} AND isDescending = ${o}`);const n=e.value;e.innerHTML="";(o?[...t].sort(((e,t)=>parseInt(t.value)-parseInt(e.value))):t).forEach((t=>{const l=document.createElement("option");l.value=t.value,l.text=o?`-${t.text}`:t.text,t.value===n&&(l.selected=!0),e.appendChild(l)})),console.log(`"""""""" selectEl-value = ${e.value}`)}function m(e,t){console.log("FUNCTION: updateColumnVisibility(visible, className)");const o=document.querySelectorAll(".hideShowColumnTable table.table thead tr th");let n=-1;o.forEach(((o,l)=>{console.log(`columnIndex = ${n} | className = ${t}`),o.classList.contains(t)&&(n=l+1,document.querySelectorAll(`table.table thead th:nth-child(${n})`).forEach((t=>{_(t,e)})),document.querySelectorAll(`table.table tbody tr td:nth-child(${n})`).forEach((t=>{_(t,e)})))})),-1!==n||console.warn("Стовпець з класом "+t+" не знайдено.")}function _(e,t){e.classList.add("fade-column"),t?(e.style.width=e.scrollWidth+"px",requestAnimationFrame((()=>{e.classList.remove("hidden-column")}))):(e.style.width=e.offsetWidth+"px",requestAnimationFrame((()=>{e.classList.add("hidden-column")}))),setTimeout((()=>e.hidden=!t),400)}function g(){console.log("FUNCTION: setAstroCatalogColumnWidth");const e=document.querySelector("label.switchButtonFixColumnWidth input[type='checkbox']"),t=document.querySelector("table.astroCatalogTable");if(!e||!t)return;const o=e.checked;console.log(`@@@@@@@@@@@@@ Checkbox is ${o}!`),console.log("Before toggle:",t.classList.toString()),t.classList.toggle("setColumnWidth",o),console.log("After toggle:",t.classList.toString())}function v(e){const t=document.querySelector(".fieldsCheckBoks");if(!t)return;t.querySelectorAll('input[type="checkbox"]').forEach((t=>{t.checked=e})),h()}function f(){const e=document.querySelector(".fieldsCheckBoks");if(!e)return;e.querySelectorAll('input[type="checkbox"]').forEach((e=>{const t=e.getAttribute("data-initial");null!==t&&(e.checked="true"===t)})),h(),setTimeout((()=>{g()}),2)}function h(){const e=document.querySelector(".fieldsCheckBoks");if(!e)return;e.querySelectorAll('input[type="checkbox"]').forEach((e=>{const t=e.className.split(" "),o=t.find((e=>e.startsWith("chb-")))?.replace("chb-","");o&&m(e.checked,o)}))}function D(){const e=document.querySelector(".responsiveColumnsContainer");if(!e)return;e.querySelectorAll('input[type="checkbox"]').forEach((e=>{e.checked=!1}))}function E(){const e=document.querySelector(".typeCatalogFilters");if(!e)return;e.querySelectorAll('input[type="checkbox"]').forEach((e=>{e.checked=!0}))}function A(e){e&&Array.from(e.options).forEach((e=>{e.selected=!1,e.classList.remove("selected-fix")}))}window.toggleCheckbox=function(e,t){m(e.checked,t)},window.resetObjectSelection=D,window.resetTypeCatalogSelection=E,window.resetAllFilters=function(){f(),function(){const e=document.querySelector(".topMenuFiltersCatalogs");if(!e)return;e.querySelectorAll('input[type="checkbox"]').forEach((e=>{const t=e.getAttribute("data-initial");null!==t&&(e.checked="true"===t)}))}(),D(),E(),document.querySelectorAll("select[data-default]").forEach((e=>{e.value=e.getAttribute("data-default")})),function(){A(document.getElementById("constellationSelect"));document.querySelectorAll('.constellationSelectTable input[type="checkbox"]').forEach((e=>{e.checked=!1}))}(),A(document.getElementById("planetTypeSelect")),function(){if(!document.querySelectorAll(".discoveredDateBlock"))return;document.getElementById("dateFrom").value="",document.getElementById("dateTo").value=""}(),e="text-Name",document.querySelectorAll(`input[type="text"].${e}`).forEach((e=>{e.value=""}));var e}})();