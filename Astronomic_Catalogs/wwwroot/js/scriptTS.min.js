(()=>{"use strict";var e={222:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.showAlert=function(e){const t="dark"===localStorage.getItem("theme");"undefined"!=typeof Swal&&Swal.fire?Swal.fire({title:"Attention!",text:e,icon:"info",background:t?"#414243":"white",color:t?"red":"black",confirmButtonColor:t?"red":"blue",confirmButtonText:"OK"}):alert(e)}},494:function(e,t,n){var o,i=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||(o=function(e){return o=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},o(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=o(e),r=0;r<n.length;r++)"default"!==n[r]&&i(t,e,n[r]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});const l=r(n(538)),s=r(n(924)),c=r(n(845)),d=r(n(600));let u;document.addEventListener("DOMContentLoaded",(()=>{u=parseFloat(getComputedStyle(document.documentElement).fontSize),c.initialize(u),l.initialize(),d.initialize(),s.initialize()}))},503:(e,t)=>{function n(e){const t=()=>{const t="dark"===localStorage.getItem("theme"),n=t?"#121212":"#FFF";t&&e.classList.add("dark-theme"),document.documentElement.style.backgroundColor=n,e.style.backgroundColor=n};t(),window.addEventListener("load",t)}function o(e){e&&(function(e){console.log("ðŸ”„ Forced autofill update."),e.forEach((e=>{const t=e.getAttribute("name");null!==t&&(e.setAttribute("name",t+"_tmp"),e.offsetHeight,e.setAttribute("name",t))}))}(e),function(e){console.log("ðŸŽ¨ Applied autofill fix."),e.forEach((e=>{e.addEventListener("animationstart",(t=>{(t.animationName.includes("autofill")||"autofill-fix"===t.animationName||"dark-autofill-fix"===t.animationName)&&(e.style.transition="background-color 0.3s ease, color 0.3s ease")}));const t=e.value;e.value="",setTimeout((()=>{e.value=t}),100)}))}(e),function(e){console.log("ðŸ”„ Forcing autofill re-render."),e.forEach((e=>{e.classList.remove("force-repaint"),e.offsetWidth,e.classList.add("force-repaint")}))}(e))}Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=function(e){const t=document.querySelectorAll(".form-control"),i=document.getElementById("theme-toggle");n(e),function(e,t,i){e&&e.addEventListener("click",(()=>{i.classList.toggle("dark-theme"),localStorage.setItem("theme",i.classList.contains("dark-theme")?"dark":"light"),n(i),t&&o(t)}))}(i,t,e),void document.querySelectorAll("select.form-select").forEach((e=>{if(!e.multiple)return;let t=new Set;for(let n of Array.from(e.options))(n.hasAttribute("selected")||n.selected)&&(t.add(n.value),n.selected=!0,n.classList.add("selected-fix"));e.addEventListener("change",(function(){for(let n of Array.from(e.options))n.selected?(t.add(n.value),n.classList.add("selected-fix")):(t.delete(n.value),n.classList.remove("selected-fix"))})),e.addEventListener("mousedown",(function(e){e.preventDefault();let n=e.target;if("OPTION"===n.tagName){let e=n;t.has(e.value)?(t.delete(e.value),e.selected=!1,e.classList.remove("selected-fix")):(t.add(e.value),e.selected=!0,e.classList.add("selected-fix"))}return!1}))})),t&&o(t)}},538:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=function(){document.addEventListener("click",(e=>{const t=e.target;if(t.classList.contains("showTextBlockBtn")){const e=t.closest("div");if(!e)return;const n=e.parentElement;if(!n)return;const o=n.querySelector(".hiddenBlock");if(!o)return;const i=o.classList.toggle("collapsed");t.textContent=i?"Show":"Hide"}})),document.addEventListener("click",(e=>{const t=e.target;if(t.classList.contains("hideFilters")){const e=document.querySelector(".allTopMenuFilters");if(!e)return;const n=e.classList.toggle("collapsed");t.textContent=n?"Show filters":"Hide filters"}}))}},600:(e,t)=>{let n;Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=function(){const e=document.getElementById("importPlanetDataButton"),t=document.getElementById("stopImportingPlanetDataButton");(function(){n=crypto.randomUUID();const e=(new signalR.HubConnectionBuilder).withUrl(`/progresshub?jobId=${n}`).build();e.start().catch((e=>console.error(e.toString()))),e.on("ReceiveProgress",(e=>{const t=document.getElementById("importProgress");t.style.width=e+"%",t.innerText=e+"%",e>=100&&a()}))})(),r=e,r&&r.addEventListener("click",(()=>{if(i)return;i=!0,o=new AbortController;const e=document.getElementById("importPlanetDataButton"),t=document.getElementById("progressContainer"),r=document.getElementById("stopImportingPlanetDataButton");e.disabled=!0,t.style.display="block",r.disabled=!1,r.style.display="inline-block",fetch(`/Planets/PlanetsCatalog/ImportData_OpenXml?jobId=${n}`,{method:"POST",signal:o.signal}).then((e=>{(e.ok||499===e.status)&&a()})).catch((e=>{"AbortError"===e.name?console.log("Import aborted by user"):console.error("Import error:",e),a()}))})),function(e){e&&e.addEventListener("click",(()=>{o&&o.abort(),fetch(`/Planets/PlanetsCatalog/CancelImport?jobId=${n}`,{method:"POST"}),a()}))}(t);var r};let o=null,i=!1;function a(){const e=document.getElementById("stopImportingPlanetDataButton"),t=document.getElementById("importPlanetDataButton"),n=document.getElementById("progressContainer"),a=document.getElementById("importProgress");t.disabled=!1,n.style.display="none",a.style.width="0%",a.innerText="0%",e.disabled=!0,e.style.display="none",i=!1,o=null,fetch("/Planets/PlanetsCatalog/GetPlanetsTable").then((e=>e.text())).then((e=>{document.getElementById("planetsTableContainer").innerHTML=e})).catch((e=>console.error("Error updating table:",e)))}},845:function(e,t,n){var o,i=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,i)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||(o=function(e){return o=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},o(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=o(e),r=0;r<n.length;r++)"default"!==n[r]&&i(t,e,n[r]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=function(e){const t=document.body;if(!t)return void console.error("Body not found!");t.style.display="none",l.initialize(t),s.initialize(e),function(e){window.addEventListener("load",(()=>{setTimeout((()=>{e.style.display="block",document.documentElement.style.display="block"}),50)}))}(t),function(){console.log("FUNCTION: alertUnauthorizedAccess()");const e=document.querySelectorAll(".restrictedWrapper");void 0===window.isAuthenticated||window.isAuthenticated||(console.log(`FUNCTION: alertUnauthorizedAccess(): isAuthenticated = ${window.isAuthenticated}`),e.forEach((e=>{const t=document.createElement("div");t.classList.add("restrictedMask"),t.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),(0,c.showAlert)("Filters are unavailable for unregistered users. Please sign in.")}));e.querySelectorAll("button, input, a").forEach((e=>{e.disabled=!0})),e.appendChild(t)})))}(),document.addEventListener("click",(function(e){const t=e.target;if(!t.classList)return;const n=new Map([["Name_UK","Other unique name (taken from the NGC2000_UK catalog. Analogous to the Othernames field). THESE TWO FIELDS SHOULD BE MERGED EVENTUALLY!!!"],["Comment","Comment from the NameObject table."],["SourceType","Object type. See the SourceType table."],["Other_names","Name from other catalogs or historically established. In this case, from the Object field of the NameObject table."],["LimitAngDiameter",'This field contains the character "<" if the object\'s size is an upper limit; otherwise, the field is empty.'],["AngDiameter","This field contains the size of the object in arcminutes. It is the angular size measured along the largest dimension. It is taken from the NGC2000_UK catalog."],["RA","RA or LII â€“ Galactic longitude of the NGC/IC object â€“ right ascension (analogous to longitude on Earth's surface) of the NGC/IC object on the selected equinox date. Provided in J2000 coordinates, with an accuracy of 0.1 minutes of time in the original table. Measured in hours."],["DEC","DEC or BII â€“ Galactic latitude of the NGC/IC object â€“ declination (analogous to latitude on Earth's surface) of the NGC/IC object on the selected equinox date. Provided in J2000 coordinates, with an accuracy of 1 arcminute in the original table."],["App_Mag","This field contains the integrated (total) magnitude of the type specified in the app_mag_flag field. Accuracy varies."],["App_Mag_Flag",'This field contains a flag indicating the magnitude type. It contains a space if the integrated magnitude is visual, or "p" if it is photographic (blue).'],["b_mag",'This field contains the brightness of the object in the blue range (B-band, "Blue"), approximately 440 nm.'],["v_mag",'This field contains the stellar magnitude of the object in the visible range (V-band, "Visual"), around 550 nm.'],["j_mag","This field contains the brightness of the object in the infrared range (J-band), with a wavelength of about 1.25 Î¼m."],["h_mag","This field contains the brightness of the object in an even longer infrared range (H-band), around 1.65 Î¼m."],["k_mag","This field contains the brightness of the object further into the infrared range (K-band), around 2.2 Î¼m."],["Surface_Brigthness","It indicates the average brightness of an object per unit area: the brightness of the object distributed over a unit area in the sky (usually expressed in magnitudes per square arcsecond, e.g., mag/arcsecÂ²). The lower the value, the brighter the object appears per unit area!"],["Hubble_OnlyGalaxies","Hubble type of the galaxy."],["Cstar_UMag","This field contains the brightness (stellar magnitude) of the nearest star in the ultraviolet range (U-band)."],["Cstar_BMag",'This field contains the brightness of the nearest star in the blue range (B-band, "Blue").'],["Cstar_VMag",'This field contains the brightness of the nearest star in visible light (V-band, "Visual").'],["Cstar_Names","This field contains the names or identifiers of the star specified in the fields: Cstar_UMag, Cstar_BMag, Cstar_VMag."]]);for(const[e,o]of n.entries())if(t.classList.contains(e)){(0,c.showAlert)(o);break}}))};const l=r(n(503)),s=r(n(907)),c=n(222)},907:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=function(e){(function(e){window.addEventListener("load",(()=>{r(e),l(".responsiveColumnsContainer",e)}))})(e),window.addEventListener("resize",(()=>{let e=parseFloat(getComputedStyle(document.documentElement).fontSize);r(e),l(".responsiveColumnsContainer",e)})),function(){let e=parseFloat(getComputedStyle(document.documentElement).fontSize);const t=document.querySelector(".toFixLayoutHeader"),a=document.querySelector("footer"),s=document.querySelector(".main-RenderBody-container");n||(n=new ResizeObserver((()=>{o||(null!==i&&clearTimeout(i),i=window.setTimeout((()=>{o=!0,r(e),l(".responsiveColumnsContainer",e),o=!1}),100))})));[t,a,s].forEach((e=>{e&&n.observe(e)}))}()};let n=null,o=!1,i=null,a=null;function r(e){!function(){console.log("FUNCTION: updateFixedColumnLeftOffset()");const e=2;let t=0;const n=.1*parseFloat(getComputedStyle(document.documentElement).fontSize);let o=0;for(let i=1;i<=e;i++){const e=document.querySelectorAll(`th:nth-child(${i}), td:nth-child(${i})`);if(e.length>0){const i=e[0].offsetWidth;t+=i,e.forEach((e=>{e.style.left=t-i-o+"px"})),o+=n}}}(),function(e){console.log("FUNCTION: adjustTableSize()");const t=document.querySelector(".toFixLayoutHeader");t||console.log("ATTENTION!!!The header variable is null!");const n=document.querySelector("footer");n||console.log("ATTENTION!!! The footer variable is null!");const o=document.querySelector(".main-RenderBody-container");o||console.log("ATTENTION!!! The main variable is null!");const i=document.querySelector(".table-set-size");i||console.log("ATTENTION!!! The tableContainer variable is null!");const a=document.querySelector(".catalogPagesHeader");a||console.log("ATTENTION!!! The pageContent variable is null!");if(!(i&&t&&n&&o&&a))return;requestAnimationFrame((()=>{const r=window.innerHeight,l=window.innerWidth,s=t.scrollHeight,c=n.scrollHeight,d=getComputedStyle(o),u=parseFloat(d.paddingTop)+parseFloat(d.paddingBottom),f=parseFloat(d.marginTop)+parseFloat(d.marginBottom),h=parseFloat(d.paddingLeft)+parseFloat(d.paddingRight),m=parseFloat(d.marginLeft)+parseFloat(d.marginRight),g=a.scrollHeight,p=0*e,b=r-(s+c+u+f+g+p+6*e),y=l-(h+m+p);console.log({remInPixels:e,footerHeight:c,headerHeight:s,mainMarginH:m,mainMarginV:f,mainPaddingH:h,mainPaddingV:u,pageContentH:g,tableHeight:b,tableWidth:y,windowHeight:r,windowWidth:l}),i.style.height=`${b}px`,i.style.width=`${y}px`}))}(e)}function l(e,t,n=26*t){const o=document.querySelector(e);if(!o)return;const i=Array.from(o.querySelectorAll("p"));if(0===i.length)return;const r=o.clientWidth,l=Math.floor(r/n)||1;if(a===l)return;a=l,i.forEach((e=>{e.parentNode&&e.parentNode.removeChild(e)}));const s=document.createElement("div");s.className="responsive-columns-wrapper";const c=[];for(let e=0;e<l;e++){const e=document.createElement("div");e.className="responsive-column",c.push(e),s.appendChild(e)}i.forEach(((e,t)=>{c[t%l].appendChild(e)})),o.innerHTML="",o.appendChild(s);const d=Math.floor(r/l-5*t);c.forEach((e=>{e.style.width=`${d}px`}))}},924:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{s(o.next(e))}catch(e){a(e)}}function l(e){try{s(o.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}s((o=o.apply(e,t||[])).next())}))};function o(){return`\n        <tr id="spinnerTr">\n            <td colspan="${function(){const e=document.querySelector(".fieldsCheckBoks");if(!e)return 0;const t=e.querySelectorAll('input[type="checkbox"]');return Array.from(t).reduce(((e,t)=>e+(t.checked?1:0)),0)+2}()}" class="text-center align-items-center" style="height: 20rem;">\n                <div id="spinner" class="spinner"> </div>\n            </td>\n        </tr>\n    `}function i(e,t,i){return n(this,arguments,void 0,(function*(e,t,n,i="1"){console.log("FUNCTION: submitFormAndUpdatePartial()");const a=document.querySelector(n),r=document.getElementById("paginationBodyBlockContainer");let l=document.getElementById("catalogTableBody");const s=function(e,t){var n,o;const i={};e.querySelectorAll('input:not([type="hidden"]), select').forEach((e=>{const t=e.name||e.id;if(t)if(e instanceof HTMLSelectElement)if(e.multiple){let n=Array.from(e.selectedOptions).map((e=>e.value));i[t]=n}else i[t]=e.value;else e instanceof HTMLInputElement&&("checkbox"===e.type?e.checked&&(Array.isArray(i[t])||(i[t]=[]),i[t].push(e.value)):"radio"===e.type?e.checked&&(i[t]=e.value):i[t]=e.value)}));for(const e in i)if(Array.isArray(i[e])&&1===i[e].length&&(i[e]=i[e][0]),Array.isArray(i[e])){const t=Array.from(new Set(i[e]));i[e]=1===t.length?t[0]:t}return i.PageNumberVaulue=null!==(o=null===(n=t.match(/^\d+/))||void 0===n?void 0:n[0])&&void 0!==o?o:"1",console.log("serializeForm (after): ",i),i}(e,i);try{console.log("Adding spinnerHTML.");const e=document.getElementById("spinnerTr");e&&e.remove(),l&&l.insertAdjacentHTML("afterbegin",o());const i=yield fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const c=yield i.json();console.log("Fetched data:",c),a&&c.tableHtml?a.innerHTML=c.tableHtml:console.error(`Partial container with selector "${n}" not found.`),r&&c.paginationHtml?r.innerHTML=c.paginationHtml:console.error('Partial container with selector "paginationBodyBlockContainer" not found.')}catch(e){console.error("Error submitting form or updating partial:",e)}finally{const e=document.getElementById("spinnerTr");e&&e.remove()}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=function(){document.addEventListener("click",(e=>{const t=e.target,n=t.classList.contains("paginationCell"),o=t.classList.contains("applyFiltersBtn");if(n||o){const e=t.getAttribute("data-controller");e&&function(e,t){var n;const o=document.querySelector(".topMenuFiltersCatalogs");if(!o)return;console.log(o);let a="1";t&&(a=(null===(n=t.textContent)||void 0===n?void 0:n.trim())||"1"),"NGCICOpendatasofts"===e&&i(o,"/Catalogs/NGCICOpendatasofts/Index","#sizeFilterTable",a),"CollinderCatalogs"===e&&i(o,"/Catalogs/CollinderCatalogs/Index","#sizeFilterTable",a)}(e,n?t:null)}}))}}},t={};(function n(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports})(494)})();