{
  "NLog": {
    "autoReload": true,
    "throwConfigExceptions": true,
    "targets": {
      "database": {
        "type": "Database",
        "connectionString": "",
        "commandText": "INSERT INTO Logs (Timestamp, Level, Logger, Message, Exception) VALUES (@timestamp, @level, @logger, @message, @exception)",
        "parameters": [
          {
            "name": "@timestamp",
            "layout": "${longdate}"
          },
          {
            "name": "@level",
            "layout": "${level}"
          },
          {
            "name": "@logger",
            "layout": "${logger}"
          },
          {
            "name": "@message",
            "layout": "${message}"
          },
          {
            "name": "@exception",
            "layout": "${exception:format=tostring}"
          }
        ]
      }
    },
    "rules": [
      {
        "logger": "*",
        "minLevel": "Trace",
        "writeTo": "database"
      }
    ]
  }
}
